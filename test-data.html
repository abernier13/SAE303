<!DOCTYPE html>
<html>
<head>
    <title>Test Données</title>
</head>
<body>
    <h1>Test Données SAE303</h1>
    <div id="output"></div>
    
    <script type="module">
        // Import des données
        import { vizData, loadData } from './js/data.js';
        
        async function test() {
            await loadData();
            
            const output = document.getElementById('output');
            output.innerHTML = `
                <h2>Données Chargées</h2>
                <p><strong>Note Moyenne IMDb:</strong> ${vizData.avgRating}/10</p>
                <p><strong>Revenus Mondiaux:</strong> $${vizData.totalRevenue} Mrd</p>
                <p><strong>Revenus Action:</strong> $${vizData.actionRevenue} Mrd</p>
                
                <h3>Perles Rares (Excellente Critique, Budget Modéré)</h3>
                <p><strong>Nombre trouvé:</strong> ${vizData.hiddenGems.length}</p>
                <ul>
                    ${vizData.hiddenGems.map(gem => `
                        <li>
                            <strong>${gem.title}</strong><br>
                            Note: ${gem.rating.toFixed(2)}/10<br>
                            Revenus: $${(gem.budget/1000000000).toFixed(2)} Mrd
                        </li>
                    `).join('')}
                </ul>
                
                <h3>Genres les Plus Rentables</h3>
                <ul>
                    ${vizData.topGenres.map(genre => `
                        <li><strong>${genre.name}:</strong> $${genre.totalRevenue/1000000000:.2f} Mrd</li>
                    `).join('')}
                </ul>
            `;
        }
        
        test();
    </script>
</body>
</html>
